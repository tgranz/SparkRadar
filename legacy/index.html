<!--
Spark Radar
An online radar application for weather lovers.
Made by Tyler.
Programming of the Spark Radar project began in September 2024.
-->

<!DOCTYPE html>
<html>
<head>
    <!--Page title and icon-->
    <title>Spark Radar</title>
    <link rel="icon" type="image/png" href="logo-rounded.png">

    <!--Meta tags...-->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!--Links to the Leaflet CSS/JS-->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>


    <!--Font links-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">

    <!--Icon set-->
    <script src="https://kit.fontawesome.com/3e2fc9ce5a.js" crossorigin="anonymous"></script>
    
    <!--CSS-->
    <link rel="stylesheet" href="style.css"></link>

    <!--MapTiler SDK-->
    <script src="https://cdn.maptiler.com/maptiler-sdk-js/v2.0.3/maptiler-sdk.umd.js"></script>
    <link href="https://cdn.maptiler.com/maptiler-sdk-js/v2.0.3/maptiler-sdk.css" rel="stylesheet" />
    <script src="https://cdn.maptiler.com/leaflet-maptilersdk/v2.0.0/leaflet-maptilersdk.js"></script>

    <!--ESRI SDK-->
    <script src="https://unpkg.com/esri-leaflet/dist/esri-leaflet.js"></script>

    <!--Turf lib-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Turf.js/5.1.6/turf.min.js"></script>

    <!--GTAG-->
    <script async src="https://googletagmanager.com/gtag/js?id=G-63D08PM675"></script>
    <script>
        window.datalayer = window.datalayer || [];
        function gtag(){datalayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-63D08PM675');
    </script>


    <!--Open Graph and Twitter Card data-->
    <meta property="og:title" content="Spark Radar"/>
    <meta property="og:description" content="Track the weather like a pro for free. Custom colors, watches, soundings, alerts, and so much more."/>
    <meta property="og:image" content="https://sparkradar.app/logo-rounded.png"/>
    <meta property="og:url" content="https://sparkradar.app"/>
    <meta property="twitter:card" content="summary_large_image"/>
    <meta property="twitter:title" content="Spark Radar"/>
    <meta property="twitter:description" content="Track the weather like a pro for free. Custom colors, watches, soundings, alerts, and so much more."/>
    <meta property="twitter:image" content="https://sparkradar.app/logo-small.png"/>

</head>
<body>
<div>

    <!--Leaflet map-->
    <div id="map"></div>

    <!--Info-->
    <div id="attrib" style="display: none;" class="overlay-object"></div>

    <!--Menu opener-->
    <button id="menu-opener" onclick="document.getElementById('results').style.opacity = 0; setTimeout(() => document.getElementById('results').style.display = 'none', 500); document.getElementById('textbox').value = ''; menuToggle(true); fadeIn('menu-blur')" class="nav-btn overlay-object" style="border: 1px solid gray; justify-content: center; width: 40px; height: 40px; transition-duration: 0.5s; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);">
        <i class="fa-solid fa-bars" style="font-size: 20px;"></i>
    </button>

    <!--Radar state info-->
    <div id="info" class="overlay-object" style="top: 10px; right: 10px; flex-direction: column; padding: 10px; display: flex; align-items: center; justify-content: center; max-width: 270px; width: calc(100% - 100px);">
        <div style="display: flex; flex-direction: row;"><p id="radinfo_lna" style="margin: 0px; font-size: large;"><b>CONUS • LATEST • </b></p></div>
        <h3 id="photo-prod" onclick="legendclick();" style="display: none; color: #27beffff; margin-top: 0px !important; cursor: pointer; font-weight: bolder; width: 100%; text-align: center; margin: 2px; text-shadow: 0 0 3px #000000ee;">Composite reflectivity</h3>
        
        <select id="prod" style="appearance: none; padding: 5px; color: #27beffff; font-weight: bolder; text-align: center; -webkit-appearance: none; -moz-appearance: none; background: none; border: none; font-size: large; display: block; width: 100%; text-shadow: 0px 0px 6px #464646; font-size: medium; border-radius: 20px;" onchange="setProduct();">
            <option value="conus_cref">Composite Reflectivity</option>
            <option value="conus_bref">Base Reflectivity</option>
        </select>

        <!--Color pallette viewers-->
        <div style="display: flex; width: 100%; height: 20px; border-radius: 10px; padding: none; margin: none;" id="bref"></div>
        <div style="display: none; width: 100%; height: 20px; border-radius: 10px; padding: none; margin: none;" id="bvel"></div>
        <div style="display: none; width: 100%; height: 20px; border-radius: 10px; padding: none; margin: none;" id="pcpn"></div>
        <div style="display: none; width: 100%; height: 20px; border-radius: 10px; padding: none; margin: none;" id="pcptyp"></div>
        <div style="display: none; width: 100%; height: 20px; border-radius: 10px; padding: none; margin: none;" id="bdsa"></div>
        <div style="display: none; width: 100%; height: 20px; border-radius: 10px; padding: none; margin: none;" id="etop"></div>
    </div>

    <div id="radarproducts" class="overlay-object" style="transition: opacity 0.2s !important; opacity: 0; width: calc(100% - 520px); flex-direction: column; max-width: 330px; min-width: 180px; left: 70px; top: 60px; overflow-x: auto; height: calc(100% - 400px); min-height: 200px; max-height: 300px; scrollbar-width: none; padding: 10px; z-index: 999;"></div>

    <!--Menu Blur-->
    <div id="menu-blur" onclick="menuToggle(false); fadeOut('menu-blur')" style="transition: opacity 0.5s !important; border-radius: 0px; opacity: 0; display: none;"></div>

    <!--Menu-->
    <div id="menu" style="transition: opacity 0.5s, transform 0.5s !important; transform: translateX(-300px); opacity: 0;">
        <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: ceter; padding: 10px;">
            <button id="menu-closer" onclick="menuToggle(false); fadeOut('menu-blur')" class="nav-btn" style="border-radius: 20px; background: #ff2121ff;">
                <i class="fa-solid fa-xmark" style="font-size: 16px; "></i>
            </button>
            <button id="sparkgenbtn" onclick="menuToggle(false); convertToSparkgen(true);" class="nav-btn" style="width: auto !important; border-radius: 20px; align-items: center; font-size: medium; font-weight: bold; color: black; display: flex; flex-direction: row; background: #ffcc00ff;">
                SparkGen
            </button>
            <p id="insg" style="margin: 5px; font-weight: bold; display: none; font-size: medium; color: #ffcc00ff;">You are in SparkGen</p>
        </div>
        <img id="logo-header" src="logo.png" style="display: flex; width: calc(100% - 20px); height: auto; border-radius: 20px; margin: 10px;">

        <div id="audio-ctrl" style="margin-top: 10px; color: white; background: rgb(50, 50, 50); border-radius: 20px; display: none; flex-direction: column; width: 100%; height: auto;">
            <div style="margin-top: 5px; display: flex; flex-direction: row; align-items: center; justify-content: center;">
                <i class="fa-solid fa-radio" style="color: white; margin-right: 10px; font-size: 20px; color: #27beffff;"></i>
                <p id="audio-title" style="font-size: large; margin: 10px;">WXJ58</p>
            </div>
            <div style="display: flex; flex-direction: row; align-items: center; justify-content: center;">
                <p id="audio-info" style="text-align: center; font-size: small; margin-top: 5px; color: lightgray;">144.550 mHz | 2 listeners</p>
            </div>
            <div style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; justify-content: center;">
                <button class="function-btn" onclick="stopPlayer();" style="margin-right: 20px; display: flex; align-items: center; padding: 10px;"><i class="fa-solid fa-stop" style="margin-right: 10px; font-size: 16px;"></i> <b>Stop</b></button>
                <button class="function-btn" id="jumpToLive" style="display: flex; align-items: center; padding: 10px;"><i class="fa-solid fa-forward-fast" style="margin-right: 10px; font-size: 16px;"></i> <b>Jump live</b></button>
            </div>
            <div id="volumectrl" style="margin-bottom: 10px; display: flex; flex-direction: row; align-items: center; justify-content: center;">
                <i class="fa-solid fa-volume-down" style="margin-right: 5px; margin-left: 10px; font-size: 20px; color: #27beffff;"></i>
                <input style="width: 100%;" type="range" id="volumeControl" min="0" max="100" value="80">
                <i class="fa-solid fa-volume-up" style="margin-left: 5px; margin-right: 10px; font-size: 20px; color: #27beffff;"></i>
            </div>
        </div>
        
        <!--Data selector
        <div style="padding: 10px; display: flex;">
            <button title="National Radar" id="dataselector_btn" onclick="" class="dataselectorbtns" style="height: 40px; width: 100%; background: #27beffff; border-radius: 20px 0px 0px 20px;">
                <i class="fa-solid fa-satellite-dish" style="font-size: 20px; color: black;"></i>
            </button>
            <button title="Canadian Radar" id="dataselector_btn" onclick="" class="dataselectorbtns" style="height: 40px; width: 100%; background: rgb(133, 133, 133); border-radius: 0px;">
                <i class="fa-brands fa-canadian-maple-leaf" style="font-size: 20px; color: black;"></i>
            </button>
            <button title="Satellite Imagery" id="dataselector_btn" onclick="" class="dataselectorbtns" style="height: 40px; width: 100%; background: rgb(133, 133, 133); border-radius: 0px;">
                <i class="fa-solid fa-satellite" style="font-size: 20px; color: black;"></i>
            </button>
            <button title="SparkDAT Damage Assesment Toolkit" id="dataselector_btn" onclick="" class="dataselectorbtns" style="height: 40px; width: 100%; background: rgb(133, 133, 133); border-radius: 0px 20px 20px 0px;">
                <i class="fa-solid fa-toolbox" style="font-size: 20px; color: black;"></i>
            </button>
        </div>-->

        <div style="overflow-y: auto; scrollbar-width: none; margin: 10px; border-radius: 20px;">
            <!--<div onclick="" style="margin-bottom: 20px;" class="menuitem"><i class="fa-solid fa-cloud-bolt"></i><b>SPC Outlook</b></div>-->
            <div onclick="dialog(true, 'spcoutlook');" class="menuitem"><i class="fa-solid fa-triangle-exclamation"></i><b>SPC Outlook</b></div>
            <div onclick="dialog(true, 'forecasthub'); tropicshub('https://mag.ncep.noaa.gov/data/gfs/00/conus/precip_p01/gfs_conus_001_precip_p01.gif')" class="menuitem"><i class="fa-solid fa-calendar-days"></i><b>Forecast Hub</b></div>
            <div onclick="dialog(true, 'tropicshub');" class="menuitem"><i class="fa-solid fa-hurricane"></i><b>Tropics Hub</b></div>
            <div onclick="dialog(true, 'dictionary'); document.getElementById('dictbox').value = ''; doDictSearch('');" style="margin-bottom: 30px;" class="menuitem"><i class="fa-solid fa-book"></i><b>Weather Glossary</b></div>
            <div onclick="dialog(true, 'settings');" class="menuitem"><i class="fa-solid fa-gear"></i><b>Settings</b></div>
            <div onclick="dialog(true, 'shortcuts');" style="margin-bottom: 30px;" class="menuitem"><i class="fa-solid fa-keyboard"></i><b>Shortcuts</b></div>
            <div onclick="dialog(true, 'appinfo');" class="menuitem"><i class="fa-solid fa-circle-info"></i><b>About</b></div>
            <a style="text-decoration: none; width: 100%;" target="_blank" href="mailto:nimbusapps@proton.me"><div style=" margin-bottom: 10px; display: flex; flex-direction: row; justify-content: flex-start; padding-right: 0px; padding-left: 15px; margin-top: 0px;" class="menuitem"><i class="fa-solid fa-envelope"></i> Contact</div></a>
            <a style="text-decoration: none; width: 100%;" target="_blank" href="https://stats.uptimerobot.com/84gEmzuSa2"><div style=" margin-bottom: 10px; display: flex; flex-direction: row; justify-content: flex-start; padding-right: 0px; padding-left: 15px; margin-top: 0px;" class="menuitem"><i class="fa-solid fa-network-wired"></i> Status</div></a>
        </div>
        <!--<div id="survey" style="margin-top: 10px; color: white; background: rgb(50, 50, 50); border-radius: 20px; display: flex; flex-direction: column; width: 100%; align-items: center; justify-content: center; height: auto;">
            <p style="margin: 5px; margin-top: 10px; text-align: center;">
                <b>We want to hear what you think!</b><br>
                Feel free to take the survey below:
            </p>
        <a href="https://tinyurl.com/sparkradarsurvey-2024" target="_blank" style="text-decoration: none; margin-bottom: 10px;"><button class="function-btn" style="display: flex; align-items: center; padding: 10px;"><i class="fa-solid fa-square-poll-vertical" style="margin-right: 10px; font-size: 16px;"></i> <b>Take the survey</b></button></a>
        </div>-->
    </div>

    <!--Dialog-->
    <div id="dialog" style="transition: opacity 0.5s !important; opacity: 0; width: 100%; height: 100%; display: none; position: absolute; z-index: 15; justify-content: center; align-items: center; top: 0px; left: 0px; background: rgba(0, 0, 0, 0.2); backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);">
        <div id="innerdialog" style="flex-direction: column; transition: scale 0.5s cubic-bezier(0.42, 0, 0.39, 0.98) !important; scale: 70%; padding: 10px; width: 100%; height: calc(100% - 40px); max-width: 550px; max-height: 600px; margin: 10px; border-radius: 20px; background: black; color: white; box-shadow: #0000008c 3px 3px 9px 0px;">            
            <div style="display: flex; margin-bottom: 5px; flex-direction: row; align-items: center; justify-content: space-between;">
                <button id="dialog-closer" onclick="dialog(false); saveSettings();" class="nav-btn" style="background: #ff2121ff; border-radius: 20px;">
                    <i class="fa-solid fa-xmark" style="font-size: 16px; "></i>
                </button>
                <p id="dialogTitle" style="border-radius: 20px; background-color: blue; margin: 0px; color: white; padding: 8px 18px; width: 100%; text-align: center; font-weight: bold; font-size: larger; height: 24px; margin-left: 10px;">Severe Thunderstorm Warning</p>
            </div>

            <div id="forecasthub" style="flex-direction: column; overflow-x: auto; width: 100%; scrollbar-width: none; height: calc(100% - 40px);">

                <div style="display: flex; flex-direction: row; align-items: center; justify-content: center; margin-bottom: 10px;">
                    <h3 style="margin: 0; width: 30%; text-align: center;">Select tool:</h3>
                    <select id="fctoolselector" style="width: 70%; margin: 0;" onchange="reloadfctools()">
                        <option value="models">Forecast Model Images</option>
                        <option value="stepcalc">Sig Tor Event Probability (STEP) Calculator</option>
                    </select>
                </div>

                <div id="models" style="flex-direction: column;">
                    <div style="display: flex; flex-direction: row;">
                        <div style="width: 20%; display: flex; flex-direction: column; align-items: center;">
                            <p style="margin: 5px; font-weight: bold;">Model</p>
                            <select id="fcmodel" onchange="reloadfcimage()">
                                <option value="GFS">GFS</option>
                            </select>
                        </div>

                        <div style="width: 15%; display: flex; flex-direction: column; align-items: center;">
                            <p style="margin: 5px; font-weight: bold;">Run</p>
                            <select id="fcrun" onchange="reloadfcimage()">
                                <option value="00">0z</option>
                                <option value="06">6z</option>
                                <option value="12">12z</option>
                                <option value="18">18z</option>
                            </select>
                        </div>

                        <div style="width: 15%; display: flex; flex-direction: column; align-items: center;">
                            <p style="margin: 5px; font-weight: bold;">Hour</p>
                            <select id="fchour" onchange="reloadfcimage()">
                                <option value="000">000</option>
                                <option value="001" selected="selected">001</option>
                                <option value="002">002</option>
                                <option value="003">003</option>
                                <option value="004">004</option>
                                <option value="005">005</option>
                                <option value="006">006</option>
                                <option value="007">007</option>
                                <option value="008">008</option>
                                <option value="009">009</option>
                                <option value="010">010</option>
                                <option value="011">011</option>
                                <option value="012">012</option>
                                <option value="013">013</option>
                                <option value="014">014</option>
                                <option value="015">015</option>
                                <option value="016">016</option>
                                <option value="017">017</option>
                                <option value="018">018</option>
                                <option value="019">019</option>
                                <option value="020">020</option>
                                <option value="021">021</option>
                                <option value="022">022</option>
                                <option value="023">023</option>
                                <option value="024">024</option>
                                <option value="025">025</option>
                                <option value="026">026</option>
                                <option value="027">027</option>
                                <option value="028">028</option>
                                <option value="029">029</option>
                                <option value="030">030</option>
                                <option value="031">031</option>
                                <option value="032">032</option>
                                <option value="033">033</option>
                                <option value="034">034</option>
                                <option value="035">035</option>
                                <option value="036">036</option>
                                <option value="037">037</option>
                                <option value="038">038</option>
                                <option value="039">039</option>
                                <option value="040">040</option>
                                <option value="041">041</option>
                                <option value="042">042</option>
                                <option value="043">043</option>
                                <option value="044">044</option>
                                <option value="045">045</option>
                                <option value="046">046</option>
                                <option value="047">047</option>
                                <option value="048">048</option>
                                <option value="049">049</option>
                                <option value="050">050</option>
                                <option value="051">051</option>
                                <option value="052">052</option>
                                <option value="053">053</option>
                                <option value="054">054</option>
                                <option value="055">055</option>
                                <option value="056">056</option>
                                <option value="057">057</option>
                                <option value="058">058</option>
                                <option value="059">059</option>
                                <option value="060">060</option>
                                <option value="061">061</option>
                                <option value="062">062</option>
                                <option value="063">063</option>
                                <option value="064">064</option>
                                <option value="065">065</option>
                                <option value="066">066</option>
                                <option value="067">067</option>
                                <option value="068">068</option>
                                <option value="069">069</option>
                                <option value="070">070</option>
                                <option value="071">071</option>
                                <option value="072">072</option>
                                <option value="073">073</option>
                                <option value="074">074</option>
                                <option value="075">075</option>
                                <option value="076">076</option>
                                <option value="077">077</option>
                                <option value="078">078</option>
                                <option value="079">079</option>
                                <option value="080">080</option>
                                <option value="081">081</option>
                                <option value="082">082</option>
                                <option value="083">083</option>
                                <option value="084">084</option>
                                <option value="085">085</option>
                                <option value="086">086</option>
                                <option value="087">087</option>
                                <option value="088">088</option>
                                <option value="089">089</option>
                                <option value="090">090</option>
                                <option value="091">091</option>
                                <option value="092">092</option>
                                <option value="093">093</option>
                                <option value="094">094</option>
                                <option value="095">095</option>
                                <option value="096">096</option>
                                <option value="097">097</option>
                                <option value="098">098</option>
                                <option value="099">099</option>
                                <option value="100">100</option>
                                <option value="101">101</option>
                                <option value="102">102</option>
                                <option value="103">103</option>
                                <option value="104">104</option>
                                <option value="105">105</option>
                                <option value="106">106</option>
                                <option value="107">107</option>
                                <option value="108">108</option>
                                <option value="109">109</option>
                                <option value="110">110</option>
                                <option value="111">111</option>
                                <option value="112">112</option>
                                <option value="113">113</option>
                                <option value="114">114</option>
                                <option value="115">115</option>
                                <option value="116">116</option>
                                <option value="117">117</option>
                                <option value="118">118</option>
                                <option value="119">119</option>
                                <option value="120">120</option>
                            </select>
                        </div>

                        <div style="width: 50%; display: flex; flex-direction: column; align-items: center;">
                            <p style="margin: 5px; font-weight: bold;">Product</p>
                            <select id="fcproduct" onclick="reloadfcimage()">
                                <optgroup label="Precipitation">
                                    <option value="precip_p01">Precipitation map</option>
                                    <option value="precip_ptot">Precipitation accumulation</option>
                                    <option value="precop_rate_type">Preciptiation rate/type</option>
                                    <option value="sim_radar_comp">Simulated composite reflectivity</option>
                                </optgroup>
                                <optgroup label="Surface layer">
                                    <option value="1000_500_thick">MSLP + 1000-500mb thickness</option>
                                    <option value="1000_850_thick">MSLP + 1000-850mb thickness</option>
                                    <option value="850_temp_mslp_precip">MSLP + 850mb temp</option>
                                    <option value="10m_wnd_precip">MSLP + 10m wind + 10m temp</option>
                                </optgroup>
                                <optgroup label="Upper Air">
                                    <option value="200_wnd_ht">200mb Wind</option>
                                    <option value="250_wnd_ht">250mb Wind</option>
                                    <option value="300_wnd_ht">300mb Wind</option>
                                    <option value="500_vort_height">500mb Vorticity</option>
                                    <option value="850_pw_ht">850mb Precipitable water</option>
                                    <option value="850_vort_ht">850mb Vorticity</option>
                                </optgroup>
                            </select>
                        </div>
                    </div>

                    <div class="zoom-container" style="width: 100%; height: auto;">
                        <img id="fcimage" src="https://mag.ncep.noaa.gov/data/gfs/00/conus/precip_p01/gfs_conus_001_precip_p01.gif" alt="No image for this selection." id="forecastimg" style="width: 100%; height: auto; margin-top: 10px; border-radius: 10px;">
                    </div>
                </div>

                <div id="stepcalc" style="display: none; flex-direction: column; align-items: center; justify-content: center;">
                    <p style="margin: 5px; font-weight: bold;">STEP Calculator</p>
                    <p style="margin: 5px; font-size: small; text-align: center;">Enter the values below to calculate the significant tornado event probability value.</p>
                    <div style="display: flex; flex-direction: column; width: 90%; align-items: center; justify-content: center;">
                        <input style="width: 100%; margin: 10px; background: rgb(50, 50, 50); border: 0px; padding: 5px 10px; color: #fff; border-radius: 40px;" id="step_stp" placeholder="Significant Tornado Parameter Value (STP)" style="width: 100%;">
                        <input style="width: 100%; margin: 10px; background: rgb(50, 50, 50); border: 0px; padding: 5px 10px; color: #fff; border-radius: 40px;" id="step_pp" placeholder="3-hr. Precipitation Probability" style="width: 100%;">
                        <input style="width: 100%; margin: 10px; background: rgb(50, 50, 50); border: 0px; padding: 5px 10px; color: #fff; border-radius: 40px;" id="step_vort" placeholder="500mb Vorticity" style="width: 100%;">
                        <input style="width: 100%; margin: 10px; background: rgb(50, 50, 50); border: 0px; padding: 5px 10px; color: #fff; border-radius: 40px;" id="step_dewp" placeholder="Surface Dewpoint" style="width: 100%;">
                        <input style="width: 100%; margin: 10px; background: rgb(50, 50, 50); border: 0px; padding: 5px 10px; color: #fff; border-radius: 40px;" id="step_cin" placeholder="Convective Inhibition (CIN)" style="width: 100%;">
                    </div>
                    <button class="function-btn" onclick="calculateSTEP();" style="margin-top: 10px; width: 50%;">Calculate</button>
                    <p id="step_result" style="width: 100%; text-align: center; margin-top: 10px;"></p>
                </div>

            </div>

            <div id="conditions" style="flex-direction: column; overflow-x: auto; width: 100%; scrollbar-width: none; height: calc(100% - 40px);">
                <div style="display: flex; margin: 20px; flex-direction: row; align-items: center; justify-content: center;">
                    <img style="margin-right: 30px; border-radius: 20px;" width="60px" height="60px" id="weathersimg">
                    <div style="display: flex; flex-direction: column; align-items: flex-sart; justify-content: center;">
                        <h2 id="conditionsbox" style="color: white; font-weight: bold; margin: 0px;">Loading</h2>
                        <h3 id="tempsbox" style="color: white; font-weight: bold; margin: 0px;">--°</h3>
                    </div>
                </div>
                <div id="more"></div>
            </div>

            <div id="tropicshub" style="flex-direction: column; overflow-x: auto; width: 100%; scrollbar-width: none; height: calc(100% - 40px);">
                <img id="tropicshubimg" src="https://www.nhc.noaa.gov/xgtwo/two_atl_7d0.png" style="width: 100%; height: auto; margin-top: 10px; border-radius: 10px;">
            </div>

            <div id="dictionary" style="flex-direction: column; overflow-x: auto; width: 100%; scrollbar-width: none; height: calc(100% - 40px);">
                <div style="margin: 10px 10px 0px 10px; display: flex; flex-direction: row;">
                    <input type="text" placeholder="Search for a term" id="dictbox" style="width: calc(100% - 20px); transition-duration: 0.3s; font-size: 16px; color: white; background: rgba(100, 100, 100, 0.5); padding: 5px; margin: 5px; padding: 10px; border: none; width: 100%; border-radius: 20px;">
                    <button id="searchbtn" class="searchbuttons" style="padding: 5px 5px 5px 0px;" onclick="doDictSearch(document.getElementById('dictbox').value);"><i class="fa-solid fa-search" style="font-size: 16px; margin: 5px;"></i></button>
                </div>
                <div id="dictres" style="display: flex; flex-direction: column;"></div>
            </div>

            <div id="spcoutlook" style="flex-direction: column; overflow-x: auto; width: 100%; scrollbar-width: none; height: calc(100% - 40px);">
                <div style="margin-top: 5px; display: flex; flex-direction: row; justify-content: center; align-items: center;">
                    <button id="spc1" onclick="loadrisks(1);" class="function-btn" style="border: none; cursor: pointer; width: 100%; margin: 5px; padding: 5px; font-size: medium; border-radius: 20px; background: gray;">Today</button>
                    <button id="spc2" onclick="loadrisks(2);" class="function-btn" style="border: none; cursor: pointer; width: 100%; margin: 5px; padding: 5px; font-size: medium; border-radius: 20px; background: gray;">Day 2</button>
                    <button id="spc3" onclick="loadrisks(3);" class="function-btn" style="border: none; cursor: pointer; width: 100%; margin: 5px; padding: 5px; font-size: medium; border-radius: 20px; background: gray;">Day 3</button>
                </div>
                <div style="display: flex; margin-bottom: 5px; flex-direction: column; align-items: center; justify-content: center;">
                    <div style="margin-top: 10px; display: flex; flex-direction: row; align-items: center; justify-content: center;">
                        <img id="swody1" style="width: 50%; height: auto;" src="https://spc.noaa.gov/partners/outlooks/national/swody1.png">
                        <img id="swody1_TORN" style="width: 50%; height: auto;" src="https://spc.noaa.gov/partners/outlooks/national/swody1_TORN.png">
                    </div>
                    <div id="row2" style="display: flex; flex-direction: row; align-items: center; justify-content: center;">
                        <img id="swody1_HAIL" style="width: 50%; height: auto;" src="https://spc.noaa.gov/partners/outlooks/national/swody1_HAIL.png">
                        <img id="swody1_WIND" style="width: 50%; height: auto;" src="https://spc.noaa.gov/partners/outlooks/national/swody1_WIND.png">
                    </div>
                </div>
                <hr style="margin-top: 20px; margin-bottom: 10px; color: white; width: 100%;">
                <div id="risklevelstats"></div>
                <hr style="margin-bottom: 20px; margin-top: 10px; color: white; width: 100%;">
                <p id="risktext" style="margin-top: 20px; margin: 0px; background: black; margin-bottom: 20px; font-family: Consolas, monospace, sans-serif !important;">
                    Loading...
                </p>
            </div>

            <div id="loader" style="display: none; justify-content: center; align-items: center; flex-direction: column; overflow-x: clip; scrollbar-width: none; height: calc(100% - 40px);">
                <div class="lds-ripple"><div></div><div></div></div>
            </div>

            <div id="settings" style="display: flex; flex-direction: row; overflow-x: clip; scrollbar-width: none; height: calc(100% - 40px);">
                <div style="display: flex; width: 45px; flex-direction: column; justify-content: flex-start; overflow-y: auto; overflow-x: none; scrollbar-width: none;">
                    <button id="settings-general" onclick="settingsmode('settmenu-general', 'settings-general');" class="set-btn" style="margin-top: 10px; background: #27beffff; border-radius: 20px 0px 0px 20px;">
                        <i class="fa-solid fa-gear" style="font-size: 16px;"></i><br>
                    </button>
                    <button id="settings-map" onclick="settingsmode('settmenu-map', 'settings-map');" class="set-btn" style="background: #89999f; border-radius: 20px 0px 0px 20px;">
                        <i class="fa-solid fa-map" style="font-size: 16px;"></i><br>
                    </button>
                    <button id="settings-storm" onclick="settingsmode('settmenu-storm', 'settings-storm');" class="set-btn" style="background: #89999f; border-radius: 20px 0px 0px 20px;">
                        <i class="fa-solid fa-cloud-bolt" style="font-size: 16px"></i><br>
                    </button>
                    <button id="settings-alerts" onclick="settingsmode('settmenu-alerts', 'settings-alerts');" class="set-btn" style="background: #89999f; border-radius: 20px 0px 0px 20px;">
                        <i class="fa-solid fa-palette" style="font-size: 16px;"></i><br>
                    </button>
                    <button id="settings-advanced" onclick="settingsmode('settmenu-advanced', 'settings-advanced');" class="set-btn" style="background: #89999f; border-radius: 20px 0px 0px 20px;">
                        <i class="fa-solid fa-gears" style="font-size: 16px;"></i><br>
                    </button>
                    <!--<button id="settings-stream" onclick="settingsmode('settmenu-streaming', 'settings-stream');" class="set-btn" style="background: #89999f; border-radius: 20px 0px 0px 20px;">
                        <i class="fa-brands fa-youtube" style="font-size: 16px;"></i>
                    </button>-->
                </div>
                <div style="border-left:1px solid darkgray; height:100%; margin-left: 0px; margin-right: 10px;"></div>
                <div style="width: 100%; overflow-y: auto; scrollbar-width: none; height: 100%;">
                    <div id="settmenu-general" style="flex-direction: column; display: flex;">
                        <div style="display: flex; flex-direction: row; align-items: flex-end; justify-content: space-between;">
                            <p style="margin: 30px 5px 5px 5px; font-size: large;"><i class="fa-solid fa-location setticon" style="font-size: 16px; color: white;"></i><b>Current Location</b></p>
                            <label style="margin-bottom: 10px; width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="false" id="location" onchange="showLocation();"><span class="slider"></span></label>
                        </div>
                        <p style="margin: 5px 5px 10px 15px; font-size: medium; color: lightgray;">Show your current location on the radar map. Your location info does not leave your device.</p>
                        
                        <p style="margin: 30px 5px 5px 5px; font-size: large;"><i class="fa-solid fa-download setticon" style="font-size: 16px; color: white;"></i><b>Settings Database</b></p>
                        <p style="margin: 5px 5px 10px 15px; font-size: medium; color: lightgray;">Download your settings as a backup, or upload an existing backup.</p>
                        <div style="display: flex; flex-direction: row;">
                            <button style="width: max-content; font-weight: bold; margin-left: 20px; margin-bottom: 5px; font-size: medium;" class="function-btn" onclick="settingsManagement('download');"><i class="fa-solid fa-download" style="font-size: 16px; margin-right: 5px;"></i>Download settings</button>
                            <button style="width: max-content; font-weight: bold; margin-left: 20px; margin-bottom: 5px; font-size: medium;" class="function-btn" onclick="settingsManagement('upload');"><i class="fa-solid fa-upload" style="font-size: 16px; margin-right: 5px;"></i>Upload settings</button>
                        </div>
                        <p style="margin: 25px 5px 5px 5px; font-size: large;"><i class="fa-solid fa-rotate setticon" style="font-size: 16px; color: white;"></i><b>Restore Settings</b></p>
                        <p style="margin: 5px 5px 10px 15px; font-size: medium; color: lightgray;">Reset all settings to their defaults, including custom alert colors.</p>
                        <button style="width: max-content; font-weight: bold; margin-left: 20px; font-size: medium; background: #ff2121ff" class="function-btn" onclick="if (confirm('Reset all settings to default?')) { localStorage.removeItem('SparkRadar_settings'); window.location.reload(); }"><i class="fa-solid fa-rotate" style="font-size: 16px; margin-right: 5px;"></i>Reset to defaults</button>
                    </div>

                    <div id="settmenu-map" style="flex-direction: column; display: none;">
                        <p style="margin: 10px 5px 10px 5px; font-size: large;"><i class="fa-solid fa-map setticon" style="font-size: 16px; color: white;"></i><b>Map Style</b></p>
                        <div style="display: flex; flex-direction: row;">
                            <div class="map-card" id="darkmatmp" onclick="setMapType('darkmatmp', map_darkmaterial)">
                                <img src="dark_tb.png">
                                <p>Dark (Default)</p>
                            </div>
                            <div class="map-card" id="defaultmp" onclick="setMapType('defaultmp', map_default)">
                                <img src="light_tb.png">
                                <p>Light</p>
                            </div>
                            <div class="map-card" id="streetsmp" onclick="setMapType('streetsmp', map_streets)">
                                <img src="streets_tb.png">
                                <p>Streets</p>
                            </div>
                        </div>

                        <div style="display: flex; align-items: center;">
                            <p style="margin: 5px;">Maps provided by </p>
                            <a href="https://maptiler.com/"><img style="transform: translateY(5px);" src="https://api.maptiler.com/resources/logo.svg" alt="MapTiler" width="100" height="30"></a>
                        </div>

                        <p style="margin: 30px 5px 10px 5px; font-size: large;"><i class="fa-solid fa-up-down-left-right setticon" style="font-size: 16px; color: white;"></i><b>Map Gestures</b></p>
                        
                        <div style="display: flex; flex-direction: row; align-items: center;">
                            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="rtctoggle" onchange="rightclickradar = document.getElementById('rtctoggle').checked"><span class="slider"></span></label>
                            <p style="margin: 5px 0px 5px 20px;">Right-click / tap-and-hold to select nearest radar</p>
                        </div>

                    </div>

                    <div id="settmenu-alerts" style="flex-direction: column; display: none;">
                        <!--<p style="margin: 10px 5px 5px 5px; font-size: large;"><i class="fa-solid fa-star setticon" style="font-size: 16px; color: white;"></i><b>Radar refresh interval</b></p>
                        <p style="margin: 5px 5px 10px 15px; font-size: medium; color: lightgray;">Choose how often alerts are refreshed from NOAA. This includes the warnings refresh cycle only.</p>
                        <select id="alertrefint" onchange="setAlertRefreshInterval();">
                            <option value="120000">2 Minutes</option>
                            <option value="60000">1 Minute</option>
                            <option value="45000">45 Seconds</option>
                            <option value="30000">30 Seconds</option>
                            <option value="15000">15 Seconds (Recommended)</option>
                            <option value="10000">10 Seconds</option>
                        </select>-->

                        <p style="margin: 10px 5px 5px 5px; font-size: large;"><i class="fa-solid fa-triangle-exclamation setticon" style="font-size: 16px; color: white;"></i><b>Alert Colors</b></p>
                        <p style="margin: 5px 5px 10px 15px; font-size: medium; color: lightgray;">Make the radar yours by defining your own alert polygon colors. If there is more than one color option, the alert will flash between the two colors.</p>
                        <div style="margin: 5px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Extreme Wind Warning</p> <input type="color" id="ewwcolor" onchange="changeAlertColors('EWW', document.getElementById('ewwcolor').value)" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer;" value="#ff00ff"></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Tornado Emergency</p> <div style="display: flex; flex-direction: row;"><input type="color" id="torecolor" onchange="changeAlertColors('TORE', document.getElementById('torecolor').value)" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer; margin-right: 10px;" value="#c940ff"><input type="color" id="torecolor2" onchange="changeAlertColors('TORE2', document.getElementById('torecolor2').value)" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer;" value="#ff00ff"></div></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">PDS Tornado Warning</p> <div style="display: flex; flex-direction: row;"><input type="color" id="pdstorcolor" onchange="changeAlertColors('PDSTOR', document.getElementById('pdstorcolor').value)" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer; margin-right: 10px;" value="#ff0000"><input type="color" id="pdstorcolor2" onchange="changeAlertColors('PDSTOR2', document.getElementById('pdstorcolor2').value)" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer;" value="#ff00ff"></div></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Tornado Warning</p> <input type="color" id="torcolor" onchange="changeAlertColors('TOR', document.getElementById('torcolor').value)" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer;" value="#ff0000"></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Destructive Tstorm Warning</p> <div style="display: flex; flex-direction: row;"><input type="color" id="pdssvrcolor" onchange="changeAlertColors('PDSSVR', document.getElementById('pdssvrcolor').value)" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer; margin-right: 10px;" value="#ff0000"><input type="color" id="pdssvrcolor2" onchange="changeAlertColors('PDSSVR2', document.getElementById('pdssvrcolor2').value)"style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer;" value="#FFA500"></div></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Severe Tstorm Warning</p> <input type="color" id="svrcolor" onchange="changeAlertColors('SVR', document.getElementById('svrcolor').value)" style="border: none; width: 30px; height: 30px; border-radius: 5px; background: darkgray; cursor: pointer;" value="#FFA500"></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Special Weather Statement</p> <input type="color" id="swscolor" onchange="changeAlertColors('SWS', document.getElementById('swscolor').value)" style="border: none; width: 30px; height: 30px; border-radius: 5px; background: darkgray; cursor: pointer;" value="#FFFF00"></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Flash Flood Emergency</p> <div style="display: flex; flex-direction: row;"><input type="color" id="ffecolor" onchange="changeAlertColors('FFE', document.getElementById('ffecolor').value)" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer; margin-right: 10px;" value="#00ff00"><input type="color" id="ffecolor2" onchange="changeAlertColors('FFE2', document.getElementById('ffecolor2').value)"style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer;" value="#008000"></div></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Flash Flood Warning</p> <input type="color" id="ffwcolor" onchange="changeAlertColors('FFW', document.getElementById('ffwcolor').value)" style="border: none; width: 30px; height: 30px; border-radius: 5px; background: darkgray; cursor: pointer;" value="#008000"></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Special Marine Warning</p> <input type="color" id="smwcolor" onchange="changeAlertColors('SMW', document.getElementById('smwcolor').value)" style="border: none; width: 30px; height: 30px; border-radius: 5px; background: darkgray; cursor: pointer;" value="#A52A2A"></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Flood Warning</p> <input type="color" id="fwcolor" onchange="changeAlertColors('FW', document.getElementById('fwcolor').value)" style="border: none; width: 30px; height: 30px; border-radius: 5px; background: darkgray; cursor: pointer;" value="#0000FF"></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Flood Advisory</p> <input type="color" id="facolor" onchange="changeAlertColors('FA', document.getElementById('facolor').value)" style="border: none; width: 30px; height: 30px; border-radius: 5px; background: darkgray; cursor: pointer;" value="#6A5ACD"></div>

                        <p style="margin: 30px 5px 5px 5px; font-size: large;"><i class="fa-solid fa-circle-exclamation setticon" style="font-size: 16px; color: white;"></i><b>Other Colors</b></p>
                        <p style="margin: 5px 5px 10px 15px; font-size: medium; color: lightgray;">As you can change alert colors, you can also change the colors of SPC watches and mesoscale discussions.</p>
                        <div style="margin: 5px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Tornado Watch</p> <input type="color" id="toacolor" onchange="changeWatchColors('TOA', document.getElementById('toacolor').value);" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer;" value="#FE5859"></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Severe Tstorm Watch</p> <input type="color" id="svacolor" onchange="changeWatchColors('SVA', document.getElementById('svacolor').value);" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer;" value="#516BFF"></div>
                        <div style="margin: 0px 5px 10px 20px; display: flex; flex-direction: row; justify-content: space-between; align-items: center;"><p style="margin: 0px 10px 0px 0px; font-size: medium;">Mesoscale Discussions</p> <input type="color" id="mdcolor" onchange="changeWatchColors('MD', document.getElementById('mdcolor').value); loadmds();" style="width: 30px; height: 30px; border: none; border-radius: 5px; background: darkgray; cursor: pointer;" value="#FFFF00"></div>
                    </div>

                    <div id="settmenu-storm" style="flex-direction: column; display: none;">
                        <p style="margin: 10px 5px 5px 5px; font-size: large;"><i class="fa-solid fa-bolt setticon" style="font-size: 16px; color: white;"></i><b>Lightning</b></p>
                        <p style="margin: 5px 5px 10px 15px; font-size: medium; color: lightgray;">Choose at what zoom lightning strikes appear on the map. Lightning strikes are accumulated over the last 60 minutes.</p>
                        <select id="light" onchange="setLightningLevel();">
                            <option value="4">Maximum (Level 4, Extremely laggy)</option>
                            <option value="6">More (Level 6, Laggy)</option>
                            <option value="9" selected="selected">Regular (Level 9, Recommended, Minimal lag)</option>
                            <option value="10">Less (Level 10, No lag)</option>
                            <option value="11">Least (Level 11, No lag)</option>
                            <option value="20">Never show lightning</option>
                        </select>
                        <p style="margin: 5px 5px 10px 15px; font-size: medium;"><b>Note:</b> At the moment, the lightning data source has stopped running. Spark Radar is in the process of partering with a new data source.</p>
                    </div>

                    <div id="settmenu-advanced" style="flex-direction: column; display: none;">
                        <h2 style="font-size: large; font-weight: bold; width: 100%; color: #ff2121ff; text-align: center; margin: 10px 5px 5px 5px;">Advanced Settings</h2>
                        <br>

                        <p style="margin: 10px 5px 5px 5px; font-size: large;"><i class="fa-solid fa-expand setticon" style="font-size: 16px; color: white;"></i><b>Radar Tile Size</b></p>
                        <select id="radartilesize" onchange="setradartilesize();">
                            <option value="128">128x128</option>
                            <option value="256" selected="selected">256x256</option>
                            <option value="512">512x512</option>
                        </select>
                     </div>
                </div>
            </div>

            <div id="appinfo" style="height: calc(100% - 50px); margin-top: 10px; align-items: center; overflow-y: auto; display: none; scrollbar-width: none; flex-direction: column;">
                <p style="margin: 10px 5px 5px 5px; font-size: large;"><b>About Spark Radar</b></p>
                <p style="width: 100%; margin: 5px 5px 10px 5px; font-size: medium;"><b class="btext">What. </b>Spark Radar is an entirely free online radar application.</p>
                <p style="width: 100%; margin: 5px 5px 10px 5px; font-size: medium;"><b class="btext">Why. </b>Because everyone experiences weather. Knowing what's coming shouldn't cost a dime.</p>
                <p style="width: 100%; margin: 5px 5px 10px 5px; font-size: medium;"><b class="btext">When. </b>Spark Radar was a project I started in 2024.</p>
                <p style="width: 100%; margin: 5px 5px 10px 5px; font-size: medium;"><b class="btext">Where. </b>The internet.</p>
                <p style="width: 100%; margin: 5px 5px 10px 5px; font-size: medium;"><b class="btext">Weather. </b>Yeah, it does that.</p>
                <p style="width: 100%; margin: 5px 5px 10px 5px; font-size: medium;"><b class="btext">Thanks. </b>You're welcome.</p>
                
                <p style="margin: 20px 5px 5px 5px; font-size: large;"><b>Credits</b></p>
                <div style="width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <div style="width: 100%; margin: 0px; display: flex; flex-direction: row; align-items: center; justify-content: center;">
                        <div onclick="window.open('https\://opengeo.ncep.noaa.gov', '_blank')" style="cursor: pointer; align-items: center; padding: 10px; display: flex; flex-direction: row; width: 100%; margin: 5px; border: 1px solid gray; background: rgb(46, 46, 46); border-radius: 20px;">
                            <i class="fa-solid fa-satellite-dish" style="color: #2a7fffff; font-size: 22px; margin: 5px; margin-right: 15px;"></i>
                            <p style="margin: 0px; font-size: medium; text-align: left;"><b style="color: #27beffff">Radar</b><br>NWS OpenGeo</p>
                        </div>
                        <div onclick="window.open('https\://www.weather.gov/documentation/services-web-api#/', '_blank')" style="cursor: pointer; align-items: center; padding: 10px; display: flex; flex-direction: row; width: 100%; margin: 5px; border: 1px solid gray; background: rgb(46, 46, 46); border-radius: 20px;">
                            <i class="fa-solid fa-triangle-exclamation" style="color: #2a7fffff; font-size: 22px; margin: 5px; margin-right: 15px;"></i>
                            <p style="margin: 0px; font-size: medium; text-align: left;"><b style="color: #27beffff">Warnings</b><br>NWS API</p>
                        </div>
                    </div>
                    <div style="width: 100%; margin: 0px; display: flex; flex-direction: row; align-items: center; justify-content: center;">
                        <div onclick="window.open('https\://www.mesonet.agron.iastate.edu/request/gis/spc_watch.phtml', '_blank')" style="cursor: pointer; align-items: center; padding: 10px; display: flex; flex-direction: row; width: 100%; margin: 5px; border: 1px solid gray; background: rgb(46, 46, 46); border-radius: 20px;">
                            <i class="fa-solid fa-circle-exclamation" style="color: #2a7fffff; font-size: 22px; margin: 5px; margin-right: 15px;"></i>
                            <p style="margin: 0px; font-size: medium; text-align: left;"><b style="color: #27beffff">Watches</b><br>IEM Mesonet</p>
                        </div>
                        <div onclick="window.open('https\://www.spc.noaa.gov/products/outlook/', '_blank')" style="cursor: pointer; align-items: center; padding: 10px; display: flex; flex-direction: row; width: 100%; margin: 5px; border: 1px solid gray; background: rgb(46, 46, 46); border-radius: 20px;">
                            <i class="fa-solid fa-calendar-days" style="color: #2a7fffff; font-size: 22px; margin: 5px; margin-right: 15px;"></i>
                            <p style="margin: 0px; font-size: medium; text-align: left;"><b style="color: #27beffff">SPC Outlooks</b><br>SPC Outlook Page</p>
                        </div>
                    </div>
                    <div style="width: 100%; margin: 0px; display: flex; flex-direction: row; align-items: center; justify-content: center;">
                        <div onclick="window.open('https\://geocode.maps.co', '_blank')" style="cursor: pointer; align-items: center; padding: 10px; display: flex; flex-direction: row; width: 100%; margin: 5px; border: 1px solid gray; background: rgb(46, 46, 46); border-radius: 20px;">
                            <i class="fa-solid fa-search" style="color: #2a7fffff; font-size: 22px; margin: 5px; margin-right: 15px;"></i>
                            <p style="margin: 0px; font-size: medium; text-align: left;"><b style="color: #27beffff">Search Results</b><br>Geocode.maps.co</p>
                        </div>
                        <div onclick="window.open('https\://weatherradio.org', '_blank')" style="cursor: pointer; align-items: center; padding: 10px; display: flex; flex-direction: row; width: 100%; margin: 5px; border: 1px solid gray; background: rgb(46, 46, 46); border-radius: 20px;">
                            <i class="fa-solid fa-radio" style="color: #2a7fffff; font-size: 22px; margin: 5px; margin-right: 15px;"></i>
                            <p style="margin: 0px; font-size: medium; text-align: left;"><b style="color: #27beffff">Weather Radios</b><br>GWES WeatherRadio</p>
                        </div>
                    </div>
                </div>

                <p style="margin: 20px 5px 5px 5px; font-size: large;"><b>Honorable Mentions</b></p>
                <p style="margin: 5px 5px 10px 15px; font-size: medium; width: calc(100% - 40px); text-align: left;"><b>Wxtership</b> (Creator of <a href="https://radar.xtremewx.com" target="_blank" class="credit">XWD radar</a>)<br><b>SteepAtticStairs</b> (Creator of <a href="https://atticradar.steepatticstairs.net" target="_blank" class="credit">AtticRadar</a>)<br><b>Dan Paulat</b> (Creator of SupercellWX)</p>
            </div>

            <div id="about" style="height: calc(100% - 50px); margin-top: 10px; flex-direction: column; align-items: center; overflow-y: auto; display: none; scrollbar-width: none; flex-direction: column;">
                <p style="margin: 10px 5px 5px 5px; font-size: large;"><b>Version:</b>v2.0 BETA (v1.2)</p>
                <p style="margin: 10px 5px 5px 5px; font-size: large;"><b>Date:</b> Apr 28, 2025</p>
                <br>
            </div>

            <div id="alertinfo" style="height: calc(100% - 50px); margin-top: 10px; flex-direction: column; font-family: Consolas; overflow-y: auto; display: none; scrollbar-width: none; flex-direction: column;">
            </div>

            <div id="soundingviewer" style="height: calc(100% - 50px); margin-top: 10px; flex-direction: column; overflow-y: auto; display: none; scrollbar-width: none; flex-direction: column;">
                <img id="sounding" style="background: white; border-radius: 5px; margin-top: 10px;">
            </div>

            <div id="prodviewer" style="height: calc(100% - 50px); margin-top: 10px; flex-direction: column; overflow-y: auto; display: none; scrollbar-width: none; flex-direction: column;">
                <p id="produc" style="color: white; font-family: Consolas, monospace, 'Cabin', sans-serif; font-size: medium;"></p>
            </div>

            <div id="shortcuts" style="color: white; height: calc(100% - 50px); margin-top: 10px; flex-direction: column; overflow-y: auto; display: none; scrollbar-width: none; flex-direction: column;">
                <br>
                <div style="display: flex; flex-direction: column;">
                    <h3>App functions</h3>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">D</h3></div>
                        <p style="margin: 0px;">Open the drawing menu</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">R</h3></div>
                        <p style="margin: 0px;">Refresh</p>
                    </div>

                    <h3>Radar (CONUS / WSR-88D)</h3>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">1</h3></div>
                        <p style="margin: 0px;">1st product (composite reflectivity / base reflectivity)</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">2</h3></div>
                        <p style="margin: 0px;">2nd product (base reflectivity / velocity)</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">3</h3></div>
                        <p style="margin: 0px;">3rd product (echo tops / hydrometer classification)</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">4</h3></div>
                        <p style="margin: 0px;">4th product (precip type / rainfall accumulation (1hr))</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">5</h3></div>
                        <p style="margin: 0px;">5th product (not used / rainfall accumulation (storm total))</p>
                    </div>

                    <!--<h3>Map layers</h3>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">SHIFT</h3> <h3 class="shortcut">A</h3></div>
                        <p style="margin: 0px;">Toggle alerts</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">SHIFT</h3> <h3 class="shortcut">R</h3></div>
                        <p style="margin: 0px;">Toggle radars</p>
                    </div> -->

                    <h3>Map movements</h3>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">+</h3></div>
                        <p style="margin: 0px;">Zoom in</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">-</h3></div>
                        <p style="margin: 0px;">Zoom out</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">←</h3></div>
                        <p style="margin: 0px;">Pan left</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">↑</h3></div>
                        <p style="margin: 0px;">Pan up</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">→</h3></div>
                        <p style="margin: 0px;">Pan right</p>
                    </div>
                    <div class="shortcutitem">
                        <div style="display: flex; flex-direction: row;"><h3 class="shortcut">↓</h3></div>
                        <p style="margin: 0px;">Pan down</p>
                    </div> 
                </div>                
            </div>
        </div>
    </div>

    <!--WFO Products dialog-->
    <div id="wfodialog" style="transition: opacity 0.5s !important; opacity: 0; width: 100%; height: 100%; display: none; position: absolute; z-index: 14; justify-content: center; align-items: center; top: 0px; left: 0px; background: rgba(0, 0, 0, 0.2); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);">
        <div id="innerwfodialog" style="transition: scale 0.5s cubic-bezier(0.42, 0, 0.39, 0.98) !important; scale: 70%; flex-direction: column; overflow-y: auto; scrollbar-width: none; padding: 10px; width: 100%; height: calc(100% - 40px); max-width: 550px; max-height: 600px; margin: 10px; border-radius: 20px; background: black; color: white; box-shadow: #0000008c 3px 3px 9px 0px;">
            <button id="wfo-dialog-closer" onclick="wfodialog(false);" class="nav-btn" style="background: #ff2121ff; border-radius: 20px;">
                <i class="fa-solid fa-xmark" style="font-size: 16px; "></i>
            </button><br>

            <div style="display: flex; margin-bottom: 20px; flex-direction: row; align-items: center; justify-content: center;">
                <img style="margin-right: 30px; border-radius: 20px;" width="60px" height="60px" id="weatherimg">
                <div style="display: flex; flex-direction: column; align-items: flex-sart; justify-content: center;">
                    <h2 id="conditionbox" style="color: white; font-weight: bold; margin: 0px;">Loading</h2>
                    <h3 id="tempbox" style="color: white; font-weight: bold; margin: 0px;">--°</h3>
                </div>
            </div>

            <div id="prodchooser" style="display: flex; flex-direction: column;">
                <div onclick="dialog(true, 'soundingviewer');" style="margin-top: 20px;" class="menuitem" id="soundingpick"><i class="fa-solid fa-chart-line"></i><b>Sounding</b></div>
                <div onclick="dialog(true, 'prodviewer', 'RDA');" class="menuitem"><i class="fa-solid fa-satellite-dish"></i><b>Radar Status Message</b></div>
                <div onclick="dialog(true, 'prodviewer', 'AFD');" class="menuitem"><i class="fa-solid fa-comments"></i><b>AFD (Area Forecast Discussion)</b></div>
                <div onclick="dialog(true, 'prodviewer', 'PNS');" class="menuitem"><i class="fa-solid fa-message"></i><b>PNS (Public Information Statement)</b></div>
            </div>
        </div>
    </div>

    <!--Sparkgen sidebar-->
    <div id="sparkgensbs" style="display: none; flex-direction: column; position: absolute; top: 0px; left: 0px; width: 400px; height: 100%; background: black;">
        <div id="sg-toolbar">
            <button title="Exit SparkGen" class="sg-toolbar-btn" style="margin-right: 30px; background: #ff2121ff;" onclick="convertToSparkgen(false);">
                <i class="fa-solid fa-xmark" style="font-size: 16px; "></i>
            </button>
            <button id="tool-move" title="Move Tool" class="sg-toolbar-btn selected" onclick="movetool();">
                <i class="fa-solid fa-arrows-up-down-left-right" style="font-size: 16px; "></i>
            </button>
            <button id="tool-poly" title="Polygon Tool" class="sg-toolbar-btn" onclick="polydraw();">
                <i class="fa-solid fa-draw-polygon" style="font-size: 16px; "></i>
            </button>
            <button id="tool-draw" title="Draw Tool" class="sg-toolbar-btn" onclick="sgdraw();">
                <i class="fa-solid fa-compass-drafting" style="font-size: 16px; "></i>
            </button>
            <button title="Clear Map" class="sg-toolbar-btn" style="margin-left: 30px;" onclick="sparkPrompt('Are you sure you want to clear the map?', clearmap);">
                <i class="fa-solid fa-trash" style="font-size: 16px; "></i>
            </button>
            <button title="Photo Mode" style="background: #00af00ff;" class="sg-toolbar-btn" onclick="photomode();">
                <i class="fa-solid fa-camera" style="font-size: 16px; "></i>
            </button>
        </div>

        <br><br>

        <div id="poly-help" style="display: none; flex-direction: column; width: 100%;">
            <p style="margin: 10px; text-align: center; width: 100%; font-size: large; color: white;"><b>Polygon Tool</b></p>
            <p style="margin: 10px; text-align: left; width: calc(100% - 20px); font-size: medium; color: white;">To create a polygon, click on the map to place a vertex. Click and drag any existing vertex to adjust it, or just click to delete it. When there are three or more vertices on the map, a polygon will appear. When you are finished, click the polygon tool button again.</p>
        </div>

        <div id="draw-help" style="display: none; flex-direction: column; width: 100%;">
            <p style="margin: 10px; text-align: center; width: 100%; font-size: large; color: white;"><b>Draw Tool</b></p>
            <p style="margin: 10px; text-align: left; width: calc(100% - 20px); font-size: medium; color: white;">To create a drawn polygon, click and drag on the map to "draw" vertices. When there are three or more vertices on the map, a polygon will appear. When you are finished, click the draw tool button again.</p>
        </div>

        <div id="styler" style="display: flex; flex-direction: column; width: 100%;">
            <p style="margin: 10px; text-align: center; width: 100%; font-size: large; color: white;"><b>Style Settings</b></p>
            <p style="margin: 10px; text-align: left; width: 100%; font-size: large; color: white;"><b>Fill Color:</b></p>
            <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: center;">
                <input type="color" value="#ffcc00" onchange="setStyle('')" id="sparkgenfill" style="cursor: pointer; width: calc(100% - 20px); height: 40px; margin: 0px 10px; padding: 5px; border-radius: 5px; border: none; background: #303030; border: 0px;">
                <select id="styleselector" style="width: 100%;"></select>
            </div>
            <p style="margin: 10px; text-align: left; width: 100%; font-size: large; color: white;"><b>Stroke Color:</b></p>
            <input type="color" value="#000000" onchange="setStyle('')" id="sparkgenstroke" style="cursor: pointer; width: calc(100% - 20px); height: 40px; margin: 0px 10px; padding: 5px; border-radius: 5px; border: none; background: #303030; border: 0px;">
            <p style="margin: 10px; text-align: left; width: 100%; font-size: large; color: white;"><b>Stroke Width:</b></p>
            <input type="range" onchange="setStyle('')" id="sparkgenopacity" style="cursor: pointer; width: calc(100% - 20px); margin: 0px 10px; border-radius: 5px; border: none;" value="3" min="0" max="20" step="0.5">
            <p style="margin: 10px; text-align: left; width: 100%; font-size: large; color: white;"><b>Opacity:</b></p>
            <input type="range" onchange="setStyle('')" id="sparkgenstrokewidth" style="cursor: pointer; width: calc(100% - 20px);margin: 0px 10px; border-radius: 5px; border: none;" value="0.3" min="0" max="1" step="0.01">
        </div>
        <br><br>
        <button id="uploadpresets" onclick="uploadstyles();" style="margin: 0px 10px; width: calc(100%-20px); height: 40px; border-radius: 10px; border: none; font-size: large; cursor: pointer;">Upload Preset .JSON File (Legacy)</button>
    </div>

    <!--SparkGen dialog-->
    <div id="sgdialog" style="transition: opacity 0.5s !important; opacity: 0; width: 100%; height: 100%; display: none; position: absolute; z-index: 14; justify-content: center; align-items: center; top: 0px; left: 0px; background: rgba(0, 0, 0, 0.2); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);">
        <div id="innersgdialog" style="transition: scale 0.5s cubic-bezier(0.42, 0, 0.39, 0.98) !important; justify-content: space-between; scale: 70%; flex-direction: column; overflow-y: auto; scrollbar-width: none; padding: 10px; width: 100%; height: calc(100% - 40px); max-width: 550px; max-height: 600px; margin: 10px; border-radius: 20px; background: black; color: white; box-shadow: #0000008c 3px 3px 9px 0px;">
            <button id="sgdialog-closer" onclick="sgdialog(false);" class="nav-btn" style="justify-content: center; background: #ff2121ff; border-radius: 20px;">
                <i class="fa-solid fa-xmark" style="font-size: 16px; "></i>
            </button>
            <div id="tut-1" style="margin: 10px; justify-content: flex-start; flex-direction: column; display: flex;">
                <h2>Welcome to SparkGen!</h2>
                <p style="margin: 0px;">SparkGen is a powerful tool to issue weather alerts on your own. It's completely free, and performs many of the same jobs as AWIPS WarnGen.</p>
                <br>
                <p style="margin: 0px;">Click next to run through the tutorial, or skip if you want to explore on your own.</p>
            </div>

            <div id="tut-2" style="margin: 10px; justify-content: flex-start; flex-direction: column; display: none;">
                <h2>(1/4) Creating watches</h2>
                <p style="margin: 0px;">Watches are extremely easy to create. Simply click a county and it will be included.</p>
                <br>
                <img src="https://i.ibb.co/kV9jv5rD/Screencast-from-2025-02-13-11-39-44.gif" style="width: 100%;">
                <br>
                <p style="margin: 0px;">Click a county again and it will be excluded.</p>
            </div>

            <div id="tut-3" style="margin: 10px; justify-content: flex-start; flex-direction: column; display: none;">
                <h2>(2/4) Creating warnings</h2>
                <p style="margin: 0px;">To create a warning, click the polygon button on the toolbar. Click to place a vertex. After three vertices are on the map, a polygon will appear.</p>
                <br>
                <img src="https://i.ibb.co/3mkySMF0/Screencast-from-2025-02-14-11-51-39-1.gif" style="width: 100%;">
                <br>
                <p style="margin: 0px;">You can click any vertex to delete it, or drag a vertex to move it.</p>
                <br>
                <p style="margin: 0px;">When you are finished, click the polygon button again to lock it.</p>
            </div>

            <div id="tut-4" style="margin: 10px; justify-content: flex-start; flex-direction: column; display: none;">
                <h2>(3/4) Naming alerts and advanced features</h2>
                <p style="margin: 0px;">Click the edit button to change alert text.</p>
                <br>
                <img src="https://i.ibb.co/KpFvyw2H/Screencast-from-2025-02-13-11-47-11.gif" style="width: 100%;">
                <br>
                <p style="margin: 0px;">Leave any box blank to hide the text.</p>
                <br>
                <p style="margin: 0px;"><b>Tip:</b> Click the trash can in the toolbar to clear any drawn polygons and reset all counties.</p>
            </div>

            <div id="tut-5" style="margin: 10px; justify-content: flex-start; flex-direction: column; display: none;">
                <h2>(4/4) Issuing alerts</h2>
                <p style="margin: 0px;">Click the green camera button to enter photo mode. You can then screenshot your alert map.</p>
                <br>
                <p style="margin: 0px;">Remember, according to OpenStreetMap and MapTiler, all material using their maps should include attribution. Ensure you include the credit in the bottom-left of the radar. I am not responsible if you do not include it in your graphics.</p>
            </div>

            <div id="editor" style="margin: 10px; justify-content: flex-start; flex-direction: column; display: none; overflow-y: auto; height: 100%;"><br>
                <h3 style="margin: 0px; width: 100%; text-align: center;">Title text</h3>
                <input type="text" value="Weather Alert Title" placeholder="Leave blank to hide" id="alerttitle" style="transition-duration: 0.3s; font-size: 16px; color: white; border: 1px solid gray; background: rgba(100, 100, 100, 0.5); padding: 5px; margin: 5px; border: none; width: calc(100% - 20px); border-radius: 7px;">
                <br>
                <h3 style="margin: 0px; width: 100%; text-align: center;">Subtitle line 1</h3>
                <input type="text" value="Subtitle line 1" placeholder="Leave blank to hide" id="subtext1" style="transition-duration: 0.3s; font-size: 16px; color: white; border: 1px solid gray; background: rgba(100, 100, 100, 0.5); padding: 5px; margin: 5px; border: none; width: calc(100% - 20px); border-radius: 7px;">
                <br>
                <h3 style="margin: 0px; width: 100%; text-align: center;">Subtitle line 2</h3>
                <input type="text" value="Subtitle line 2" placeholder="Leave blank to hide" id="subtext2" style="transition-duration: 0.3s; font-size: 16px; color: white; border: 1px solid gray; background: rgba(100, 100, 100, 0.5); padding: 5px; margin: 5px; border: none; width: calc(100% - 20px); border-radius: 7px;">
                <br>
                <h3 style="margin: 0px; width: 100%; text-align: center;">Discussion text</h3>
                <textarea placeholder="Leave blank to hide" id="discussiontext" style="resize: vertical; transition-duration: 0.1s; font-size: 16px; color: white; border: 1px solid gray; background: rgba(100, 100, 100, 0.5); padding: 5px; margin: 5px; border: none; width: calc(100% - 20px); border-radius: 7px;"></textarea>
                <br>
            </div>

            <div id="styles" style="scrollbar-width: none; margin: 10px; justify-content: flex-start; flex-direction: column; display: none; overflow-y: auto; height: 100%;"><br>
                <div id="stylepresets" style="scrollbar-width: none; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                </div>
                <br>
                <button style="width: max-content; font-weight: bold; margin-left: 10px; margin-bottom: 5px; font-size: medium;" class="function-btn" onclick="sgedit(true);"><i class="fa-solid fa-plus" style="font-size: 16px; margin-right: 5px;"></i>New style</button>
                <button style="width: max-content; font-weight: bold; margin-left: 10px; margin-bottom: 5px; font-size: medium;" class="function-btn" onclick="uploadstyles();"><i class="fa-solid fa-upload" style="font-size: 16px; margin-right: 5px;"></i>Upload a styleset JSON</button>
            </div>

            <div id="tut-advance" style="display: flex; flex-direction: row; justify-content: space-between; align-items: ceter; padding: 10px;">
                <button id="menu-closer" onclick="sgdialog(false);" class="nav-btn" style="width: 100px !important; justify-content: center; border-radius: 20px; align-items: center; font-size: medium; font-weight: bold; color: white; display: flex; flex-direction: row; background: #ff2121ff;">
                    Skip
                </button>
                <button onclick="advanceSgTutorial();" class="nav-btn" style="width: 100px !important; justify-content: center; border-radius: 20px; align-items: center; font-size: medium; font-weight: bold; color: white; display: flex; flex-direction: row; background: #2a7fffff;">
                    Next
                </button>
            </div>
        </div>
    </div>

    <!--SparkGen style editor-->
    <div id="sgedit" style="transition: opacity 0.5s !important; opacity: 0; width: 100%; height: 100%; display: none; position: absolute; z-index: 14; justify-content: center; align-items: center; top: 0px; left: 0px; background: rgba(0, 0, 0, 0.2); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);">
        <div id="innersgedit" style="transition: scale 0.5s cubic-bezier(0.42, 0, 0.39, 0.98) !important; justify-content: space-between; scale: 70%; flex-direction: column; overflow-y: auto; scrollbar-width: none; padding: 10px; width: 100%; height: calc(100% - 40px); max-width: 300px; max-height: 200px; margin: 10px; border-radius: 20px; background: rgb(44, 44, 44); color: white; box-shadow: #0000008c 3px 3px 9px 0px;">
            <div style="display: flex; flex-direction: column; width: 100%; align-items: center;">
                <input id="sg-name" type="text" placeholder="Preset name" id="dictbox" style="width: calc(100% - 20px) !important; transition-duration: 0.3s; font-size: 16px; color: white; border: 1px solid gray; background: rgba(100, 100, 100, 0.5); padding: 5px; margin: 5px; padding: 10px; border: none; width: 100%; border-radius: 20px;">
                <input id="sg-color" type="color" value="#FF0000" style="margin: 10px; width: 20%; border: 80px; border-radius: 5px;">
                <input id="sg-opacity" type="range" value="30" max="100" min="0" style="margin: 10px; width: 80%; border: 0px; border-radius: 5px;">
            </div>
            <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: ceter; padding: 10px;">
                <button id="menu-closer" onclick="sgedit(false);" class="nav-btn" style="width: auto !important; border-radius: 20px; align-items: center; font-size: medium; font-weight: bold; color: white; display: flex; flex-direction: row; background: none;">
                    Cancel
                </button>
                <button onclick="newSgPreset(); sgedit(false);" class="nav-btn" style="width: auto !important; border-radius: 20px; align-items: center; font-size: medium; font-weight: bold; color: white; display: flex; flex-direction: row; background: #2a7fffff;">
                    Save
                </button>
            </div>
        </div>
    </div>

    <!--Location Finder-->
    <div class="overlay-object" id="searchbox" style="height: 40px; padding: 0px; padding-left: 3px; padding-right: 3px; display: flex; top: 10px; left: 60px; width: calc(100% - 400px); max-width: 350px; min-width: 200px; z-index: 4;">
        <button onclick="document.getElementById('results').style.opacity = 0; setTimeout(() => document.getElementById('results').style.display = 'none', 500); document.getElementById('textbox').value = '';" class="searchbuttons" style="padding: 5px 0px 5px 5px;"><i class="fa-solid fa-xmark" style="font-size: 16px; margin: 5px;"></i></button>
        <input type="text" placeholder="Find anything" id="textbox" style="transition-duration: 0.3s; background: transparent; font-size: 16px; color: white; padding: 5px; margin: 5px; border: none; width: 100%; border-radius: 7px;">
        <button id="searchbtn" class="searchbuttons" style="padding: 5px 5px 5px 0px;" onclick="doLocSearch(document.getElementById('textbox').value);"><i class="fa-solid fa-search" style="font-size: 16px; margin: 5px;"></i></button>

    </div>
    <div id="results" class="overlay-object" style="transition: opacity 0.2s !important; width: calc(100% - 415px); flex-direction: column; max-width: 335px; min-width: 180px; left: 60px; top: 60px; overflow-x: auto; height: calc(100% - 400px); min-height: 200px; max-height: 300px; scrollbar-width: none; padding: 10px; z-index: 999;"></div>

    <!--Quick Settings
    <div class="overlay-object" id="quicksettings" style="flex-direction: row; opacity: 1; border-radius: 200px; padding: 0px; padding-left: 3px; padding-right: 3px; display: flex; top: 60px; left: 60px; width: auto; max-width: 350px; z-index: 4;">
        <button style="margin-right: 0px;" title="Toggle data saver" class="qtbutton"><i class="fa-solid fa-server" style="font-size: 16px; "></i></button>
        <button style="margin-right: 0px;" title="Toggle location" class="qtbutton selected"><i class="fa-solid fa-location-dot" style="font-size: 16px; "></i></button>
        <button class="qtbutton" title="Open settings"><i class="fa-solid fa-ellipsis" style="font-size: 16px; "></i></button>
    </div>-->

    <p id="infop" style="display: none; transition-duration: 0.2s; z-index: 100; margin: 0px; font-size: large; bottom: 10px; left: 10px; position: absolute; color: black;">Loading radar...</p>

    <!--Map alert notifier-->
    <div class="overlay-object" style="display: none; right: 10px; bottom: 30px; z-index: 999;">
        <div id="alertcontent" style="padding: 10px;">
            <div style="display: flex; background: magenta; color: black; padding: 5px; border-radius: 5px;"><b>PDS Severe Thunderstorm Warning</b></div>
        </div>
    </div>

    <!--Map text attribution-->
    <p id="textattr" style="position: absolute; bottom: 45px; right: 10px; z-index: 9; font-size: small; color: white; margin: 0px;">&copy;<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> and &copy;<a href="https://maptiler.com">MapTiler</a></p>

    <!--Canvas for drawing-->
    <canvas id="drawing" style="background: none; display: none; cursor: crosshair; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; z-index: 101;" style="cursor: crosshair;"></canvas>

    <!--Toolbar
    <div class="overlay-object" id="toolbar" style="border-radius: 20px; padding-bottom: 5px; flex-direction: column; align-items: center; justify-content: center; position: absolute; bottom: 10px; left: 10px; z-index: 8; height: auto; width: auto;">
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 0px 5px; display: none; background-color: #00af00ff; color: white;" title="Photo mode" id="pmode" onclick="photomode();"><i class="fa-solid fa-camera" style="font-size: 16px;"></i></button>
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 0px 5px; display: none;" title="Draw a polygon" id="polydraw" onclick="polydraw()"><i class="fa-solid fa-draw-polygon" style="font-size: 16px;"></i></button>
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 0px 5px; display: none;" title="Change styles" id="styler" onclick="styles();"><i class="fa-solid fa-palette" style="font-size: 16px;"></i></button>
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 0px 5px; display: none;" title="Clear map" id="clearmap" onclick="clearmap()"><i class="fa-solid fa-trash" style="font-size: 16px;"></i></button>
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 20px 5px; display: none; background-color: #ff2121ff; color: white;" title="Exit SparkGen" id="sparkgenexit" onclick="convertToSparkgen(false);"><i class="fa-solid fa-arrow-right-from-bracket" style="font-size: 16px; transform: rotate(180deg);"></i></button>
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 0px 5px;" title="[R] Refresh" onclick="mapEvents += 1; addRadarToMap(radarStation); loadAlerts(); loadWatches(); loadOutlook();"><i class="fa-solid fa-refresh" style="font-size: 16px;"></i></button>
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 0px 5px;" title="Go to my location" onclick="if(outermarker) {map.flyTo([nowlat, nowlon], 10);}"><i class="fa-solid fa-location" style="font-size: 16px;"></i></button>
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 0px 5px;" title="[D] Drawing tools" onclick="toggleDrawing(true);"><i class="fa-solid fa-pencil" style="font-size: 16px;"></i></button>
        <button class="toolbtn selected_toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 0px 5px; display: block; background-color: white; color: black;" title="[SHIFT + A] Toggle alerts" id="alerttoggle" onclick="toggleAlerts();"><i class="fa-solid fa-circle-exclamation" style="font-size: 16px;"></i></button>
        <button class="toolbtn selected_toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px 5px 0px 5px;" title="[SHIFT + R] Turn radar stations on/off" onclick="toggleRadars();"id="radarstogg"><i class="fa-solid fa-satellite-dish" style="font-size: 16px;"></i></button>
    </div>-->

    <!--Drawing toolbar-->
    <div class="overlay-object" id="drawingtoolbar" style="border-radius: 20px; padding: 5px; align-items: center; justify-content: center; position: absolute; top: 10px; left: 10px; z-index: 102; height: auto; width: auto;">
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px;" title="Close" onclick="toggleDrawing(false);"><i class="fa-solid fa-xmark" style="font-size: 16px;"></i></button>
        <button class="toolbtn" style="transition-duration: 0.2s; width: 35px; height: 35px; margin: 5px; margin-right: 15px;" title="Clear" onclick="ctx.clearRect(0, 0, canvas.width, canvas.height);"><i class="fa-solid fa-trash" style="font-size: 16px;"></i></button>
        <button class="drawingtoolbtn" id="blue" style="transition-duration: 0.2s; border-radius: 20px; width: 35px; height: 35px; margin: 5px; background: #27beffff; border: none;" onclick="setPenColor('#27beffff'); setSelectedColor('blue');"><i class="fa-regular fa-circle-dot" style="color: lightgray; font-size: 16px;"></i></button>
        <button class="drawingtoolbtn" id="red" style="transition-duration: 0.2s; border-radius: 20px; width: 35px; height: 35px; margin: 5px; background: #ff2121ff; border: none;" onclick="setPenColor('#ff2121ff'); setSelectedColor('red');"></button>
        <button class="drawingtoolbtn" id="green" style="transition-duration: 0.2s; border-radius: 20px; width: 35px; height: 35px; margin: 5px; background: #00af00ff; border: none;" onclick="setPenColor('#00af00ff'); setSelectedColor('green');"></button>
        <button class="drawingtoolbtn" id="white" style="transition-duration: 0.2s; border-radius: 20px; width: 35px; height: 35px; margin: 5px; background: #ffffffff; border: none;" onclick="setPenColor('#ffffffff'); setSelectedColor('white');"></button>
        <button class="drawingtoolbtn" id="black" style="transition-duration: 0.2s; border-radius: 20px; width: 35px; height: 35px; margin: 5px; background: #000000ff; border: none;" onclick="setPenColor('#000000ff'); setSelectedColor('black');"></button>
    </div>

    <!--Black screen for pointless transitions-->
    <div id="black-overlay"><h2 style="color: white;">Loading...</h2></div>

    <!--SparkGen alert info box-->
    <div id="sginfo" class="overlay-object" style="top: 10px; left: 10px; flex-direction: column; padding: 10px; display: none; align-items: flex-end; justify-content: flex-start; width: calc(100% - 350px); max-width: 350px; min-width: 100px;">
        <div style="display: flex; width: 100%; flex-direction: row; align-items: center; justify-content: space-between;">
            <button id="sg_menu" onclick="menuToggle(true); fadeIn('menu-blur')" class="nav-btn" style="border-radius: 20px; box-shadow: none; transition-duration: 0.5s; background: transparent;">
                <i class="fa-solid fa-bars" style="color: rgba(255, 255, 255, 0.4); font-size: 16px;"></i>
            </button>
            <h3 id="alerttitletext" class="easfont" style="width: 100%; margin: 0px; font-weight: bold; text-align: center;">Weather Alert Title</h3>
            <button id="sg_editor" onclick="sgdialog(true, 'editor')" class="nav-btn" style="border-radius: 20px; box-shadow: none; transition-duration: 0.5s; background: transparent;">
                <i class="fa-solid fa-pen-to-square" style="color: rgba(255, 255, 255, 0.4); font-size: 16px;"></i>
            </button>
        </div>
        <h4 id="sub1" class="easfont" style="font-weight: bold; width: 100%; margin: 0px; text-align: center;">Subtitle 1</h4>
        <h4 id="sub2" class="easfont" style="font-weight: bold; width: 100%; margin: 0px; text-align: center;">Subtitle 2</h4>
        <p id="disc" class="easfont" style="width: 100%; margin: 0px; text-align: left;"></p>
    </div>

    <!--Map functions-->
    <button id="layerbtn" title="Turn map layers on and off." onclick="openLayerMenu();" class="nav-btn overlay-object" style="z-index: 11; top: 60px; left: 10px; opacity: 1; padding: none; display: flex; border: 1px solid gray; justify-content: center; width: 40px !important; height: 40px !important; transition-duration: 0.5s; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);">
        <i class="fa-solid fa-layer-group" style="font-size: 18px; margin: none;"></i>
    </button>
    <button id="refreshbtn" title="Force refresh the map." onclick="refreshAll()" class="nav-btn overlay-object" style="top: 160px; left: 10px; opacity: 1; padding: none; display: flex; border: 1px solid gray; justify-content: center; width: 40px !important; height: 40px !important; transition-duration: 0.5s; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);">
        <i class="fa-solid fa-refresh" style="font-size: 18px; margin: none;"></i>
    </button>
    <button id="flybtn" title="Fly to my location." onclick="if(outermarker) {map.flyTo([nowlat, nowlon], 10);}" class="nav-btn overlay-object" style="top: 210px; left: 10px; opacity: 1; padding: none; display: none; border: 1px solid gray; justify-content: center; width: 40px !important; height: 40px !important; transition-duration: 0.5s; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);">
        <i class="fa-solid fa-location" style="font-size: 18px; margin: none;"></i>
    </button>

    <button id="ruler" title="Measure distances on the map." onclick="drawingMode = true; document.getElementById('ruler').classList.add('selectdui')" class="nav-btn overlay-object" style="top: 110px; left: 10px; opacity: 1; padding: none; display: flex; border: 1px solid gray; justify-content: center; width: 40px !important; height: 40px !important; transition-duration: 0.5s; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);">
        <i class="fa-solid fa-ruler" style="font-size: 18px; margin: none;"></i>
    </button>

    <!--Map layer menu-->
    <div id="layers" class="overlay-object" style="transition: opacity 0.2s !important; width: calc(100% - 100px); flex-direction: column; max-width: 335px; min-width: 180px; left: 60px; top: 60px; overflow-x: auto; height: calc(100% - 400px); min-height: 200px; max-height: 400px; scrollbar-width: none; padding: 10px; z-index: 999;">
        <h2 style="font-size: large; font-weight: bolder; margin: 0px; width: 100%; margin: 5px; text-align: left;">Severe Weather</h2>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="warningstoggle" onchange="toggleAlerts();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Warnings</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="wwtoggle" onchange="watchesEnabled = document.getElementById('wwtoggle').checked; if (watchesEnabled) { loadWatches(); } else { watches.clearLayers(); }"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Watches</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="mdstoggle" onchange="mdsenabled = document.getElementById('mdstoggle').checked; if (mdsenabled) { loadmds(); } else { mds.clearLayers(); }"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Mesoscale Discussions</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="spctoggle" onchange="spcEnabled = document.getElementById('spctoggle').checked; if (spcEnabled) { loadOutlook(); } else { outlook.clearLayers(); }"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">SPC Outlook</p>
        </div>

        <br><h2 style="font-size: large; font-weight: bolder; margin: 0px; width: 100%; margin: 5px; text-align: left;">Storm Centers</h2>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="stormcentertoggle_tvs" onchange="stormCentersOn_tvs = document.getElementById('stormcentertoggle_tvs').checked; loadStormCenters();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">TVS Signatures</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="stormcentertoggle_hail" onchange="stormCentersOn_hail = document.getElementById('stormcentertoggle_hail').checked; loadStormCenters();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Hail Signatures</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="stormcentertoggle_meso" onchange="stormCentersOn_meso = document.getElementById('stormcentertoggle_meso').checked; loadStormCenters();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Mesocyclone Signatures</p>
        </div>

        <br><h2 style="font-size: large; font-weight: bolder; margin: 0px; width: 100%; margin: 5px; text-align: left;">Weather Conditions</h2>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="radiotoggle" onchange="weatherRadioVisible = document.getElementById('radiotoggle').checked; if (weatherRadioVisible) { addWeatherRadios(); } else { stopPlayer(); radios.clearLayers(); }"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Weather Radios</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="false" id="metartoggle" onchange="metarsEnabled = document.getElementById('metartoggle').checked; if (metarsEnabled) { fetchMetars(); loadMetars(); } else { metars.clearLayers(); }"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">METARs</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="spotterpostoggle" onchange="spotterPositionsOn = document.getElementById('spotterpostoggle').checked; loadSpotterNetwork();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Spotter Network Positions</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="spotterreptoggle" onchange="spotterReportsOn = document.getElementById('spotterreptoggle').checked; loadSpotterNetwork();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Spotter Network Reports</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="nwstortoggle" onchange="displayTorReports = document.getElementById('nwstortoggle').checked; loadReports();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">NWS Tornado Reports</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="nwshailtoggle" onchange="displayHalReports = document.getElementById('nwshailtoggle').checked; loadReports();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">NWS Hail Reports</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="nwswindtoggle" onchange="displayWndReports = document.getElementById('nwswindtoggle').checked; loadReports();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">NWS Wind Reports</p>
        </div>
        
        <br><h2 style="font-size: large; font-weight: bolder; margin: 0px; width: 100%; margin: 5px; text-align: left;">Tropical</h2>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="hurrtoggle" onchange="toggleHurricanes();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Hurricanes</p>
        </div>
        
        <br><h2 style="font-size: large; font-weight: bolder; margin: 0px; width: 100%; margin: 5px; text-align: left;">Seismic</h2>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="meqtoggle" onchange="toggleMajorEarthquakes();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Recent Major Earthquakes (M >= 7)</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="eqtoggle" onchange="toggleEarthquakes();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Recent Earthquakes (M < 7)</p>
        </div>

        <br><h2 style="font-size: large; font-weight: bolder; margin: 0px; width: 100%; margin: 5px; text-align: left;">Other</h2>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="stationstoggle" onchange="toggleRadars();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Radar Station Markers</p>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <label style="width: 54px; margin-left: 20px; font-size: medium;" class="switch"><input type="checkbox" checked="true" id="firetoggle" onchange="toggleWildfires();"><span class="slider"></span></label>
            <p style="margin: 5px 0px 5px 20px;">Wildfires</p>
        </div>
    </div>

    <!--Radar animation controls-->
    <div id="anim" class="overlay-object" style="left: 10px; bottom: 10px; flex-direction: column; padding: 10px; display: flex; align-items: center; justify-content: center; width: calc(100% - 38px); max-width: 270px;">
        <div style="width: 100%; display: flex; flex-direction: row; justify-content: center; align-items: center;">
            <button class="toolbtn" style="width: 50px; transition-duration: 0.2s; height: 35px; margin: 5px;" title="Earliest frame" onclick="frameIdx = 0; addRadarToMap(radarStation);"><i class="fa-solid fa-backward-step" style="font-size: 20px;"></i></button>
            <button class="toolbtn" style="width: 50px; transition-duration: 0.2s; height: 35px; margin: 5px;" title="Previous frame" onclick="if (frameIdx > 0) {frameIdx -= 1; addRadarToMap(radarStation);}"><i class="fa-solid fa-caret-left" style="font-size: 20px;"></i></button>
            
            <div style="display: flex; flex-direction: row; padding: 0px 5px; width: auto;">
                <p id="frameInfo" style="margin: 0px; margin-right: 5px;">0</p>/
                <p id="frameInfo2" style="margin: 0px; margin-left: 5px;">0</p>
            </div>

            <button class="toolbtn" style="width: 50px; transition-duration: 0.2s; height: 35px; margin: 5px;" title="Next frame" onclick="if (frameIdx < maxFrames-1) {frameIdx += 1; addRadarToMap(radarStation);}"><i class="fa-solid fa-caret-right" style="font-size: 20px;"></i></button>
            <button class="toolbtn" style="width: 50px; transition-duration: 0.2s; height: 35px; margin: 5px;" title="Latest frame" onclick="frameIdx = maxFrames-1; addRadarToMap(radarStation);"><i class="fa-solid fa-forward-step" style="font-size: 20px;"></i></button>
        </div> 
    </div>

    <button id="drawbtn" title="Draw on the map." onclick="toggleDrawing(true);" class="nav-btn overlay-object" style="top: 210px; left: 10px; opacity: 1; padding: none; display: flex; border: 1px solid gray; justify-content: center; width: 40px !important; height: 40px !important; transition-duration: 0.5s; background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);">
        <i class="fa-solid fa-pencil" style="font-size: 18px; margin: none;"></i>
    </button>

    <!--Right-click menu-->
    <ul id="ctx-menu">
        <li style="display: none;" title="Photo mode" id="pmode" onclick="photomode();"><i class="fa-solid fa-camera" style="margin-right: 5px; font-size: 16px;"></i> Photo mode</li>
        <li style="display: none;" title="Draw a polygon" id="polydraw" onclick="polydraw()"><i class="fa-solid fa-draw-polygon" style="font-size: 16px;"></i> Draw polygon</li>
        <li style="display: none;" title="Change styles" id="styler" onclick="styles();"><i class="fa-solid fa-palette" style="font-size: 16px;"></i> Change styles</li>
        <li style="display: none;" title="Clear map" id="clearmap" onclick="clearmap()"><i class="fa-solid fa-trash" style="font-size: 16px;"></i> Clear map</li>
        <li style="display: none; margin-bottom: 10px; background-color: #ff2121ff; color: white;" title="Exit SparkGen" id="sparkgenexit" onclick="convertToSparkgen(false);"><i class="fa-solid fa-arrow-right-from-bracket" style="font-size: 16px; transform: rotate(180deg);"></i> Exit SparkGen</li>
        <li style="display: flex;" title="[R] Refresh" onclick="refreshAll();"><i class="fa-solid fa-refresh" style="font-size: 16px;"></i> Refresh</li>
        <li style="display: flex;" title="Go to my location" onclick="if(outermarker) {map.flyTo([nowlat, nowlon], 10);}"><i class="fa-solid fa-location" style="font-size: 16px;"></i> Fly to my location</li>
        <li style="display: flex;" title="[D] Drawing tools" onclick="toggleDrawing(true);"><i class="fa-solid fa-pencil" style="font-size: 16px;"></i> Draw</li>
        <li style="display: flex;" class="selected_toolbtn" title="[SHIFT + A] Turn alerts on/off" id="alerttoggle" onclick="toggleAlerts();"><i class="fa-solid fa-circle-exclamation" style="color: black; font-size: 16px;"></i> Toggle alerts</li>
        <li style="display: flex;" class="selected_toolbtn" title="[SHIFT + R] Turn radar stations on/off" onclick="toggleRadars();"id="radarstogg"><i class="fa-solid fa-satellite-dish" style="color: black; font-size: 16px;"></i> Toggle radars</li>
    </ul>
</div>
</body>

<!--Add JS after elements are added-->
<script src="script.js"></script>

</html>